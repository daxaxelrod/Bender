(this["webpackJsonpbender-ui"]=this["webpackJsonpbender-ui"]||[]).push([[0],{24:function(e,n,t){},32:function(e,n,t){"use strict";t.r(n);var c=t(0),s=t(1),i=t.n(s),r=t(16),a=t.n(r),o=(t(24),t(10)),l=t(2),d=!1?"http://10.0.0.4:8000":"http://localhost:8000",j=t(17);function u(e){var n=e.message;return Object(c.jsxs)("div",{className:"pending__container is-centered",children:[Object(c.jsx)("div",{className:"pending_spinner is-centered",children:Object(c.jsx)(j.Windmill,{color:"#727981",size:34,speed:1,animating:!0})}),Object(c.jsx)("p",{className:"pending__subtext",children:n})]})}function h(){var e=Object(l.f)(),n=Object(s.useState)(!1),t=Object(o.a)(n,2),i=t[0],r=t[1];return Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"columns",children:[Object(c.jsx)("div",{className:"column",children:Object(c.jsxs)("div",{className:"box",children:[Object(c.jsx)("h2",{style:{textAlign:"center",paddingBottom:"1rem",fontSize:"7rem",fontFamily:"Pinyon Script"},children:"Bender"}),i?Object(c.jsx)(u,{message:"Loading..."}):Object(c.jsx)("div",{className:"buttons is-centered",children:Object(c.jsx)("button",{className:"button is-primary is-size-3",onClick:function(){r(!0),fetch(d+"/wake/",{method:"POST"}).then((function(e){return e.json()})).then((function(n){r(!1),e.push("drinks")})).catch((function(e){console.log("issue waking machine",e,e.response)}))},children:"Start"})})]})}),Object(c.jsx)("div",{className:"column"})]})})}function b(e){var n=e.onClick,t=e.drink,s=0==t.instructions.filter((function(e){return null==e.ingredient.resevoir})).length,i=s?n:function(){};return Object(c.jsx)("div",{className:"column is-half",children:Object(c.jsxs)("div",{className:"box drink-option",onClick:i,children:[s?null:Object(c.jsx)("div",{className:"drink-unavailable",children:Object(c.jsx)("p",{className:"drink-unavailable__text",children:"Unavailable"})}),Object(c.jsx)("div",{className:"drink-option__name",children:t.name}),Object(c.jsxs)("div",{className:"columns",children:[Object(c.jsx)("div",{className:"column",children:function(){for(var e=t.instructions.reduce((function(e,n){return e+n.pour_duration}),0),n=100,s=0;s<t.instructions.length;s++){var i=t.instructions[s].pour_duration/e;i<n&&(n=i)}return t.instructions.map((function(s,i){var r=s.pour_duration/e,a=Math.round(r/n),o="".concat(a," part").concat(a>1?"s":""," ").concat(s.ingredient.name),l=t.instructions.length-1===i?"":", ";return Object(c.jsx)("p",{className:"drink-option__description",children:o+l},"instruction-".concat(s.id))}))}()}),Object(c.jsx)("div",{className:"column drink-price",children:Object(c.jsx)("p",{className:"drink-option__description",children:"$".repeat(Math.round(t.instructions.reduce((function(e,n){return e+n.ingredient.cost.length}),0)/t.instructions.length))})})]})]})})}function m(){var e=Object(s.useState)([]),n=Object(o.a)(e,2),t=n[0],i=n[1],r=Object(s.useState)(!1),a=Object(o.a)(r,2),j=a[0],h=a[1],m=Object(l.f)(),O=d+"/drinks/";Object(s.useEffect)((function(){h(!0),fetch(O).then((function(e){return e.json()})).then((function(e){h(!1),console.log("data from drinks api",e),i(e)})).catch((function(e){console.log("could not get drink selection! Aborting",e,e.response),h(!1),m.push("/")}))}),[m,O]);return Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"box",children:[Object(c.jsx)("h1",{className:"pageHeading",children:"Select"}),j?Object(c.jsx)(u,{}):null,Object(c.jsx)("div",{className:"columns is-multiline",children:t.map((function(e){return Object(c.jsx)(b,{drink:e,onClick:function(){return function(e){var n=JSON.stringify({drink_id:e.id});console.log("selected ",e.id,"Passing",n),fetch(O,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:n}).then((function(e){return e.json()})).then((function(e){m.push("/enjoy")})).catch((function(e){console.log("error starting drink",e,e.response)}))}(e)}},e.id)}))})]})})}u.defaultProps={message:"Pending..."};var O=t(8);function p(){return Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"box",children:[Object(c.jsx)("h1",{className:"pageHeading",children:"Enjoy!"}),Object(c.jsx)(O.b,{to:"/",children:Object(c.jsx)("div",{className:"buttons is-centered",children:Object(c.jsx)("button",{className:"button is-primary is-size-4",children:"Start Over"})})})]})})}t(30),t(31);var x=t.p+"static/media/stock_drink_1.b2cc5eda.jpeg";a.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsxs)("div",{className:"hero is-fullheight has-background-dark has-background",children:[Object(c.jsx)("img",{alt:"Fill Murray",className:"hero-background is-transparent",src:x}),Object(c.jsx)("div",{className:"hero-body",children:Object(c.jsx)(O.a,{children:Object(c.jsxs)(l.c,{children:[Object(c.jsx)(l.a,{path:"/enjoy",exact:!0,children:Object(c.jsx)(p,{})}),Object(c.jsx)(l.a,{path:"/drinks",exact:!0,children:Object(c.jsx)(m,{})}),Object(c.jsx)(l.a,{path:"/",children:Object(c.jsx)(h,{})})]})})})]})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.c7fc06b9.chunk.js.map